<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:form id="formPublicar" prependId="false" enctype="multipart/form-data">


 <ul class="collapsible">
    <li>
      <div class="collapsible-header"><i class="material-icons">comment</i>Escreva uma mensagem</div>
      <div class="collapsible-body card-panel">
      	<span >
			<div class="row">      		
      
      
      
      
	<div class="col s12 center-align"><h3>Escreva uma mensagem</h3></div>
	<div class="col s6 input-field">
		<div class="input-field col s12"><Label>Título:</Label></div>
		<div class="input-field col s12">
			<p:inputText type="text" name="titulo" value="#{publicacaoBean.titulo}" placeholder="Digite um título para sua publicação"/>
		</div>		
	</div>
	<div class="col s6 input-field">		
		<div class="input-field col s12"><Label for="grupoPublicar" >Informe um grupo para publicação:</Label></div>
		<div class="input-field col s12">
			<h:selectOneMenu id="grupoPublicar" value="#{publicacaoBean.grupoCompartilhado}" 
				required="true" requiredMessage="É obrigatório vincular a mensagem a algum grupo" 
				styleClass="display: inline-block !important;">
				<f:selectItems value="#{loginBean.seusGrupos}" var="grupo" itemValue="#{grupo.grupo.nome}" itemLabel="#{grupo.grupo.nome}"/>								
			</h:selectOneMenu>
			
		</div>		
	</div>
	<div class="input-field col s12"><Label>Conteúdo:</Label></div>
	<div class="input-field col s12">
		<p:inputTextarea id="conteudo" name="conteudo" class="materialize-textarea" value="#{publicacaoBean.conteudo}" placeholder="Sua publicação aqui" />
	</div>	
	<div class="col s12">
		<div class="file-field input-field">
	      <div class="btn">
	        <span>Imagem</span>
	        <h:inputFile value="#{publicacaoBean.arquivo}" />
	      </div>
	      <div class="file-path-wrapper">
	        <input class="file-path validate" type="text"/>
	      </div>
    	</div>
	</div>
	<div class="col s9 center-align">
	<p:selectBooleanCheckbox id="localizacao" onchange="mostraMapa(this)" 
	value="#{publicacaoBean.localizacao}" itemLabel="Infromar sua localização na publicação."/>
	</div>
	<div class="col s3 right-align">
		<h:commandLink class="waves-effect waves-light btn-large green" type="submit" action="#{publicacaoBean.publicar}" value="Leriar">
		<i class="pi pi-check"></i>
		</h:commandLink>			
	</div>
	<input hidden="hidden" id="latitude" name="latitude" jsf:value="#{publicacaoBean.latitude}" type="text" />
	<input hidden="hidden" id="longitude" name="longitude" jsf:value="#{publicacaoBean.longitude}" type="text"/>
	<div id="mapa" class ="col s12" >
		<ui:include src="mapa.html" />
	</div>
	

	</div>
			</span>
		</div>
    </li>
</ul>
	
	
	
	
	
	</h:form>
	
	<script>
		function mostraMapa(e){
			document.getElementById("mapa").hidden=(!e.checked);			
		}
	</script>
</html>