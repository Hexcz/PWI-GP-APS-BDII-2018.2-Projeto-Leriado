<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:form id="formPublicar" prependId="false" enctype="multipart/form-data">

	<div class="col s12">
		<p:inputText type="text" name="titulo" value="#{publicacaoBean.titulo}" placeholder="Digite um título para sua publicação"	class="center-align"/>
	</div>
	<div class="input-field col s12">
		<p:inputTextarea id="conteudo" name="conteudo" class="materialize-textarea" value="#{publicacaoBean.conteudo}" placeholder="Sua publicação aqui" />
	</div>
	<div class="file-field input-field">
		<div class="col s12">
			<div class="file-field input-field">
				<div class="file-path-wrapper">
					<h:outputLabel class = "green lighten-2 z-depth-1 btn" value="Selecione uma imagem " />
					<h:inputFile value="#{publicacaoBean.arquivo}" />					
				</div>
			</div>
		</div>
	</div>
	<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
		<h:outputLabel value="Selecione os grupos para publicar: "/>
		<h:selectOneMenu value="#{publicacaoBean.grupoCompartilhado}" styleClass="display: inline-block !important;">
			<f:selectItems value="#{loginBean.seusGrupos}" var="grupo" itemValue="#{grupo}" itemLabel="#{grupo}"/>								
		</h:selectOneMenu>
	</h:panelGrid>
	

	<div class="col s12">
		<h:inputHidden id="latitude" name="latitude" value="#{publicacaoBean.latitude}" type="text" />
	</div>
	<div class="col s12">
		<h:inputHidden id="longitude" name="longitude" value="#{publicacaoBean.longitude}" type="text"/>
	</div>	
	
	<div class="row">
		<div class="col s12 center-align">
			<h:commandButton class="green lighten-2 z-depth-1 btn" type="submit" action="#{publicacaoBean.publicar}"
			 value="Leriar"/>			
		</div>
	</div>
	
	<p:selectBooleanCheckbox id="localizacao" value="#{publicacaoBean.localizacao}" itemLabel="Infromar sua localização na publicação."/>
	</h:form>	

	
	
<script type="text/javascript">	

	function getLocation() {
	  if (navigator.geolocation) {
	    navigator.geolocation.getCurrentPosition(showPosition);
	  } 
	}

	function showPosition(position) {
		var longitude = document.getElementById("longitude");		
		var latitude = document.getElementById("latitude");
		longitude.value = position.coords.longitude;
		latitude.value = position.coords.latitude;
	}
	
	getLocation();
</script>
</html>